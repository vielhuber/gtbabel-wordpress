!function e(t,n,l){function a(s,r){if(!n[s]){if(!t[s]){var o="function"==typeof require&&require;if(!r&&o)return o(s,!0);if(g)return g(s,!0);var u=new Error("Cannot find module '"+s+"'");throw u.code="MODULE_NOT_FOUND",u}var _=n[s]={exports:{}};t[s][0].call(_.exports,(function(e){return a(t[s][1][e]||e)}),_,_.exports,e,t,n,l)}return n[s].exports}for(var g="function"==typeof require&&require,s=0;s<l.length;s++)a(l[s]);return a}({1:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;n.default=class{init(){this.initAltLng(),this.initPreventLngs(),wp.domReady(()=>{this.initAltLng(),this.initPreventLngs()})}initAltLng(){!0!==this.runInitAltLng&&void 0!==wp&&void 0!==wp.hooks&&void 0!==wp.plugins&&(this.runInitAltLng=!0,wp.hooks.addFilter("blocks.registerBlockType","custom/attrs",e=>(e.attributes={...e.attributes,gtbabel_alt_lng:{type:"string",default:""},gtbabel_hide_block_target:{type:"boolean",default:""}},e)),wp.hooks.addFilter("editor.BlockEdit","custom/attrinputs",wp.compose.createHigherOrderComponent(e=>t=>{let n=[];n.push({value:null,label:wp.i18n.__("Page language","gtbabel-plugin")});for(const[e,t]of Object.entries(wpgutenberg_data.languages_with_source_at_last))n.push({value:e,label:t});return wp.element.createElement(wp.element.Fragment,null,wp.element.createElement(e,t),wp.element.createElement(wp.blockEditor.InspectorControls,null,wp.element.createElement(wp.components.PanelBody,{title:wp.i18n.__("Languages","gtbabel-plugin")},wp.element.createElement(wp.components.SelectControl,{label:wp.i18n.__("Source language","gtbabel-plugin"),value:t.attributes.gtbabel_alt_lng,onChange:e=>t.setAttributes({gtbabel_alt_lng:e}),options:n}),wp.element.createElement(wp.components.ToggleControl,{label:wp.i18n.__("Show only there","gtbabel-plugin"),checked:!0===t.attributes.gtbabel_hide_block_target,onChange:e=>t.setAttributes({gtbabel_hide_block_target:e})}))))},"withcustomattrinputs")))}initPreventLngs(){!0!==this.runInitPreventLngs&&void 0!==wp&&void 0!==wp.hooks&&void 0!==wp.plugins&&(this.runInitPreventLngs=!0,wp.plugins.registerPlugin("my-plugin-sidebar",{render:()=>wp.element.createElement(wp.editPost.PluginDocumentSettingPanel,{title:wp.i18n.__("Language","gtbabel-plugin"),name:"gtbabel-gutenberg-sidebar",icon:"admin-site-alt3"},wp.element.createElement(wp.compose.compose(wp.data.withDispatch(e=>({set_gtbabel_alt_lng:t=>{e("core/editor").editPost({meta:{gtbabel_alt_lng:t}})},set_gtbabel_prevent_lngs:t=>{e("core/editor").editPost({meta:{gtbabel_prevent_lngs:t}})},set_slug:t=>{e("core/editor").editPost({slug:t})}})),wp.data.withSelect(e=>({get_gtbabel_alt_lng:e("core/editor").getEditedPostAttribute("meta").gtbabel_alt_lng??"",get_gtbabel_prevent_lngs:e("core/editor").getEditedPostAttribute("meta").gtbabel_prevent_lngs??"",get_status:e("core/editor").getEditedPostAttribute("status")??"",get_slug:e("core/editor").getEditedPostSlug()})))(e=>{1!=wpgutenberg_data.prevent_publish_wp_new_posts||""!=e.get_gtbabel_prevent_lngs||""!=e.get_slug&&isNaN(e.get_slug)||e.set_gtbabel_prevent_lngs(","+wpgutenberg_data.languages_without_source.map(e=>e+"_guest").join(",")+",");let t=[];if(""==e.get_slug||!isNaN(e.get_slug))return wp.element.createElement("div",null,t);let n=[];for(const[e,t]of Object.entries(wpgutenberg_data.languages))n.push({value:e===wpgutenberg_data.source_lng?"":e,label:t});t.push(wp.element.createElement(wp.components.SelectControl,{label:wp.i18n.__("Source language","gtbabel-plugin"),value:e.get_gtbabel_alt_lng,options:n,disabled:""!=e.get_gtbabel_alt_lng||"publish"===e.get_status,onChange:t=>{e.set_gtbabel_alt_lng(t);let n=e.get_gtbabel_prevent_lngs;(n.includes(","+wpgutenberg_data.source_lng+",")||n.includes(","+wpgutenberg_data.source_lng+"_guest,"))&&(n=n.replace(","+wpgutenberg_data.source_lng+",",",SWAP,"),n=n.replace(","+wpgutenberg_data.source_lng+"_guest,",",SWAP_guest,")),(n.includes(","+t+",")||n.includes(","+t+"_guest,"))&&(n=n.replace(","+t+",",","+wpgutenberg_data.source_lng+","),n=n.replace(","+t+"_guest,",","+wpgutenberg_data.source_lng+"_guest,")),(n.includes(",SWAP,")||n.includes(",SWAP_guest,"))&&(n=n.replace(",SWAP,",","+t+","),n=n.replace(",SWAP_guest,",","+t+"_guest,")),e.set_gtbabel_prevent_lngs(n),""!=t?wp.apiFetch({path:"/v1/translate/slug",method:"POST",body:JSON.stringify({slug:e.get_slug,lng_source:t,lng_target:wpgutenberg_data.source_lng}),cache:"no-cache",headers:{"content-type":"application/json"}}).then(t=>{e.set_slug(t.data.slug),wp.data.dispatch("core/editor").savePost()}):wp.data.dispatch("core/editor").savePost()}})),t.push(wp.element.createElement(wp.components.BaseControl,{label:wp.i18n.__("Availability","gtbabel-plugin"),help:wp.i18n.__("Here you can control whether this page should be translated in all or only in a few languages.","gtbabel-plugin")}));for(const[n,l]of Object.entries(wpgutenberg_data.languages).sort((t,n)=>""==e.get_gtbabel_alt_lng&&wpgutenberg_data.source_lng==t[0]||e.get_gtbabel_alt_lng==t[0]?1:""==e.get_gtbabel_alt_lng&&wpgutenberg_data.source_lng==n[0]||e.get_gtbabel_alt_lng==n[0]?-1:0))t.push(wp.element.createElement(wp.components.BaseControl,null,wp.element.createElement(wp.components.Flex,null,wp.element.createElement(wp.components.FlexBlock,null,wp.element.createElement(wp.components.ButtonGroup,null,wp.element.createElement(wp.components.Button,{icon:"no-alt",className:"no-margin",isPrimary:e.get_gtbabel_prevent_lngs.includes(","+n+","),onClick:()=>{let t=e.get_gtbabel_prevent_lngs;t.includes(","+n+"_guest,")&&(t=t.replace(n+"_guest,","")),t.includes(","+n+",")||(t+=(t.includes(",")?"":",")+n+","),e.set_gtbabel_prevent_lngs(t)}}),wp.element.createElement(wp.components.Button,{icon:"hidden",className:"no-margin",isPrimary:e.get_gtbabel_prevent_lngs.includes(","+n+"_guest,"),onClick:()=>{let t=e.get_gtbabel_prevent_lngs;t.includes(","+n+",")&&(t=t.replace(n+",","")),t.includes(","+n+"_guest,")||(t+=(t.includes(",")?"":",")+n+"_guest,"),e.set_gtbabel_prevent_lngs(t)}}),wp.element.createElement(wp.components.Button,{icon:"yes",className:"no-margin",isPrimary:!e.get_gtbabel_prevent_lngs.includes(","+n+",")&&!e.get_gtbabel_prevent_lngs.includes(","+n+"_guest,"),onClick:()=>{let t=e.get_gtbabel_prevent_lngs;t.includes(","+n+",")&&(t=t.replace(n+",","")),t.includes(","+n+"_guest,")&&(t=t.replace(n+"_guest,","")),","==t&&(t=""),e.set_gtbabel_prevent_lngs(t)}}))),wp.element.createElement(wp.components.FlexBlock,null,wp.element.createElement("div",{dangerouslySetInnerHTML:{__html:l}})))));let l=[];for(const[t,n]of Object.entries(wpgutenberg_data.languages_with_source_at_last))""==e.get_gtbabel_alt_lng&&wpgutenberg_data.source_lng==t||e.get_gtbabel_alt_lng==t||e.get_gtbabel_prevent_lngs.includes(","+t+",")||l.push('<li><a href="'+wpgutenberg_data.translation_url+"&lng="+t+'">'+n+"</a></li>");return l.length>0&&(t.push(wp.element.createElement(wp.components.BaseControl,{label:"Ãœbersetzungen"})),t.push(wp.element.createElement("div",{dangerouslySetInnerHTML:{__html:"<ul>"+l.join("")+"</ul>"}}))),wp.element.createElement("div",null,t)})))}))}}},{}],2:[function(e,t,n){"use strict";(new(e("@babel/runtime/helpers/interopRequireDefault")(e("./WpGutenberg")).default)).init()},{"./WpGutenberg":1,"@babel/runtime/helpers/interopRequireDefault":3}],3:[function(e,t,n){t.exports=function(e){return e&&e.__esModule?e:{default:e}},t.exports.default=t.exports,t.exports.__esModule=!0},{}]},{},[2]);